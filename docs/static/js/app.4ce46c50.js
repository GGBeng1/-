(function(t){function e(e){for(var n,o,c=e[0],a=e[1],u=e[2],l=0,f=[];l<c.length;l++)o=c[l],r[o]&&f.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);h&&h(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,c=1;c<i.length;c++){var a=i[c];0!==r[a]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var h=a;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"42ae":function(t,e,i){"use strict";var n=i("8fd5"),r=i.n(n);r.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},s=[],o=(i("5c0b"),i("2877")),c={},a=Object(o["a"])(c,r,s,!1,null,null,null),u=a.exports,h=i("8c4f"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("HelloWorld")],1)},f=[],d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hello"},[i("div",{staticClass:"tip"},[t._v("pc端请使用移动端模拟或使用移动端打开")]),i("div",{staticClass:"tipText"},[t._v(t._s(t.text))]),i("gesture-lock",{attrs:{containerWidth:t.width,cycleRadius:30,password:t.password},on:{end:t.onEnd}})],1)},y=[],p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"gesture-lock",class:{error:t.error},style:{width:t.containerWidth+"px",height:t.containerWidth+"px"},on:{touchstart:function(e){return e.stopPropagation(),t.onTouchStart(e)},touchmove:function(e){return e.stopPropagation(),t.onTouchMove(e)},touchend:function(e){return e.stopPropagation(),t.onTouchEnd(e)}}},[t._l(t.circleArray,function(t,e){return i("div",{key:e,staticClass:"cycle",class:{check:t.check},style:{left:t.style.left,top:t.style.top,width:t.style.width,height:t.style.width}})}),t._l(t.lineArray,function(t){return i("div",{key:t.keys,staticClass:"line",style:{left:t.activeLeft,top:t.activeTop,width:t.activeWidth,transform:"rotate("+t.activeRotate+")"}})}),i("div",{staticClass:"line",style:{left:t.activeLine.activeLeft,top:t.activeLine.activeTop,width:t.activeLine.activeWidth,transform:"rotate("+t.activeLine.activeRotate+")"}})],2)},v=[],k=(i("c5f6"),i("ac6a"),i("d225")),g=i("b0b4"),w=function(){function t(e,i){Object(k["a"])(this,t),this.containerWidth=e,this.cycleRadius=i,this.circleArray=[],this.checkPoints=[],this.lineArray=[],this.lastCheckPoint=0,this.offsetX=0,this.offsetY=0,this.activeLine={},this.key=10,this.windowWidth=window.innerWidth,this.initCircleArray()}return Object(g["a"])(t,[{key:"initCircleArray",value:function(){for(var t=(this.containerWidth-6*this.cycleRadius)/6,e=0,i=0;i<3;i++)for(var n=0;n<3;n++)e++,this.circleArray.push({count:e,x:(t+this.cycleRadius)*(2*n+1),y:(t+this.cycleRadius)*(2*i+1),radius:this.cycleRadius,check:!1,style:{left:(t+this.cycleRadius)*(2*n+1)-this.cycleRadius+"px",top:(t+this.cycleRadius)*(2*i+1)-this.cycleRadius+"px",width:2*this.cycleRadius+"px"}})}},{key:"onTouchStart",value:function(t){this.setOffset(t),this.checkTouch({x:t.touches[0].pageX-this.offsetX,y:t.touches[0].pageY-this.offsetY})}},{key:"onTouchMove",value:function(t){this.moveDraw(t)}},{key:"onTouchEnd",value:function(){var t=this.checkPoints;return this.reset(),t}},{key:"setOffset",value:function(t){this.offsetX=t.currentTarget.offsetLeft,this.offsetY=t.currentTarget.offsetTop}},{key:"checkTouch",value:function(t){for(var e=t.x,i=t.y,n=0;n<this.circleArray.length;n++){var r=this.circleArray[n];if(this.isPointInCycle(e,i,r.x,r.y,r.radius)){if(!r.check){if(this.checkPoints.push(r.count),0!=this.lastCheckPoint){var s=this.drawLine(this.lastCheckPoint,r);this.lineArray.push(s)}this.lastCheckPoint=r}return void(r.check=!0)}}}},{key:"drawLine",value:function(t,e){this.key++;var i=this.getPointDis(t.x,t.y,e.x,e.y),n=this.getAngle(t,e);return{activeLeft:t.x+"px",activeTop:t.y+"px",activeWidth:i+"px",activeRotate:n+"deg",keys:this.key}}},{key:"getAngle",value:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i>=0?360*Math.atan(n/i)/(2*Math.PI):180+360*Math.atan(n/i)/(2*Math.PI)}},{key:"isPointInCycle",value:function(t,e,i,n,r){return this.getPointDis(t,e,i,n)<r}},{key:"getPointDis",value:function(t,e,i,n){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-n,2))}},{key:"moveDraw",value:function(t){var e=t.touches[0].pageX-this.offsetX,i=t.touches[0].pageY-this.offsetY;this.checkTouch({x:e,y:i}),this.activeLine=this.drawLine(this.lastCheckPoint,{x:e,y:i})}},{key:"reset",value:function(){this.circleArray.forEach(function(t){t.check=!1}),this.checkPoints=[],this.lineArray=[],this.activeLine={},this.lastCheckPoint=0}},{key:"getActiveLine",value:function(){return this.activeLine}},{key:"getCycleArray",value:function(){return this.circleArray}},{key:"getLineArray",value:function(){return this.lineArray}}]),t}(),m=w,x={name:"index",props:{containerWidth:[Number,String],cycleRadius:[Number,String],password:{type:Array,default:function(){return[]}}},data:function(){return{gestureLock:{},circleArray:[],lineArray:[],activeLine:{},error:!1}},methods:{onTouchStart:function(t){this.gestureLock.onTouchStart(t),this.refesh()},onTouchMove:function(t){this.gestureLock.onTouchMove(t),this.refesh()},onTouchEnd:function(t){var e=this,i=this.gestureLock.onTouchEnd(t);this.password.length&&i.join("")!=this.password.join("")?(this.error=!0,setTimeout(function(){e.refesh(),e.$emit("end",i)},800)):(this.refesh(),this.$emit("end",i))},refesh:function(){this.error=!1,this.circleArray=this.gestureLock.getCycleArray(),this.lineArray=this.gestureLock.getLineArray(),this.activeLine=this.gestureLock.getActiveLine()}},mounted:function(){this.gestureLock=new m(this.containerWidth,this.cycleRadius),this.refesh()},watch:{}},b=x,L=(i("42ae"),Object(o["a"])(b,p,v,!1,null,"43151ea6",null)),A=L.exports,P={name:"HelloWorld",components:{GestureLock:A},data:function(){return{title:"手势图案",password:[],text:"请设定手势"}},computed:{width:function(){return window.innerWidth}},methods:{onEnd:function(t){this.password.length?this.password.join("")===t.join("")?(this.text="手势设定完成",this.password=[]):(this.text="两次手势设定不一致",this.password=[]):(this.text="请确认手势设定",this.password=t)}},mounted:function(){}},T=P,C=(i("b62b"),Object(o["a"])(T,d,y,!1,null,"6bd1d0d8",null)),_=C.exports,j={name:"home",components:{HelloWorld:_}},O=j,R=Object(o["a"])(O,l,f,!1,null,null,null),W=R.exports;n["a"].use(h["a"]);var M=new h["a"]({routes:[{path:"/",name:"home",component:W}]});n["a"].config.productionTip=!1,new n["a"]({router:M,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var n=i("5e27"),r=i.n(n);r.a},"5e27":function(t,e,i){},"8fd5":function(t,e,i){},a23f:function(t,e,i){},b62b:function(t,e,i){"use strict";var n=i("a23f"),r=i.n(n);r.a}});
//# sourceMappingURL=app.4ce46c50.js.map